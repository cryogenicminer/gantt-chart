<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>ganntChart</title>
    <!-- <script src="http://rubaxa.github.io/Sortable/Sortable.js"></script> -->
    <style>
      body {
        background: #2c3e50;
      }
      .gantt-chart {
        background: #bdc3c7;
        padding: 10px;
        height: 250px;
        /*width: 800px;*/
      }
      .gantt-chart * {
        /*border: 1px solid black;*/
      }
      .gantt-bar {
        background: #EF6C00;
        margin-bottom: 5px;
        padding: 5px;
        height: 15px;
        float: left;
      }
      .gantt-bar-deep {
        /*background: #EF6C00;*/
        margin-bottom: 5px;
        padding: 5px;
        height: 75px;
        float: left;
      }
      .inner {
        margin-bottom: 0;
      }
      .gantt-bar-container {
        height: 25px;
      }
      .gantt-bar-container-deep {
        height: 80px;
        /*width: 75px;*/
      }
      .gantt-bar-inner-container-deep {
        margin-bottom: 5px;
        /*padding: 5px;*/
        height: 80px;
        width: 100px;
        float: left;
      }
      .gantt-bar-container .gantt-bar+.gantt-bar {
        clear:left;
      }
    </style>
  </head>
  <body>

    <div class="gantt-chart" id="ganttChart">

      <!-- <div class="gantt-bar-container">
        <div class="gantt-bar" style="width: 50px;"></div>
      </div> -->

      <!-- <div class="gantt-bar-container">
        <div class="gantt-bar" style="width: 150px;">bar2</div>
      </div>

      <div class="gantt-bar-container-deep">
          <div class="gantt-bar-inner-container-deep" style="width: 85px;">
            <div class="gantt-bar inner" style="width: 50px;">bar3</div>
            <div class="gantt-bar inner" style="width: 75px;">bar3</div>
            <div class="gantt-bar inner" style="width: 20px;">bar3</div>

          </div>
      </div>

      <div class="gantt-bar-container">
        <div class="gantt-bar" style="width: 125px;">bar4</div>
      </div> -->

    </div>

  </body>
  <script type="text/javascript">
    for (var n = 0; n < 10; n++) {
      var div = document.createElement('div');
      div.className = 'gantt-bar-container';
      document.querySelector('.gantt-chart').appendChild(div);

      var bar = document.createElement('div');
      bar.className = 'gantt-bar';

      var w = Math.floor((Math.random() * 10) + 1)*25;

      bar.style.width = w + 'px';
      var doc = document.querySelectorAll('.gantt-bar-container');
      doc[n].appendChild(bar);
    }




     console.log(readTextFile('data.txt'));
    var allText;
     function readTextFile(file)
     {
       var rawFile = new XMLHttpRequest();
       rawFile.open("GET", file, false);
       rawFile.onreadystatechange = function () {
         if(rawFile.readyState === 4) {
           if(rawFile.status === 200 || rawFile.status == 0) {
              allText = rawFile.responseText;
                // alert(allText);
              }
            }
          }
          rawFile.send(null);
      }
      readTextFile('data.txt');
      // console.log(allText);

      var textLines = allText.match(/^.*((\r\n|\n|\r)|$)/gm);
      var taskLine = allText.match(/^(?!.*(^	* *-)).*/gm) //tabs or spaces
      console.log('textLines ' +textLines);
      console.log('taskLine ' +taskLine);

      // for (var i = 0; i < textLines.length; i++) {
      //   textLines[i].
      // }



    // for (var i = 0; i < 10; i++) {
    //   var div = document.createElement('div');
    //   div.className = 'gantt-bar';
    //   document.getElementById('ganttChart').appendChild(div);
    // }
// querryselector()

  //   var barCount = Math.floor((Math.random() * 10) + 1);
  //   barCount = 0;
   //
  //   makeGanttBar();
   //
  //   for(var n = 0; n < barCount; n++) {
  //     var deep = Math.floor((Math.random() * 10) + 1);
  //     if(deep > 0.8) {
  //       makeGanttBar(1);
  //     }
  //     else {
  //       makeGanttBar(0);
  //     }
  //   }
   //
  //  function makeGanttBar() {
  //    var w = Math.floor((Math.random() * 10) + 1) *25;
  //    var ganttBar = document.createElement("div");
  //    ganttBar.style.width = "100px";
  //    ganttBar.style.height = "100px";
  //    ganttBar.style.background = "red";
  //    ganttBar.style.color = "white";
  //    ganttBar.innerHTML = "Hello";
   //
  //    document.getElementById("ganttBar").appendChild(div);
  //  }

  </script>
</html>
